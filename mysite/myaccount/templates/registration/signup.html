<!DOCTYPE html>
{% extends "base.html" %}
{% load socialaccount %}
<html lang="ko">
<head>
    <title>{% block title %}🔐회원가입</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% load static %}

    <link rel="icon" type="image/png" href="{% static 'images/icons/favicon.ico' %}"/>
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'fonts/Linearicons-Free-v1.0.0/icon-font.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/animate/animate.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/css-hamburgers/hamburgers.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/animsition/css/animsition.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/select2/select2.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/daterangepicker/daterangepicker.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/util.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
    <style>
        .scrollable-p {
            max-height: 100px; /* 원하는 최대 높이 설정 */
            overflow-y: auto;
            padding: 10px;
            border: 1px solid #ccc; /* 선택적으로 테두리 추가 */
        }
    </style>
</head>
{% endblock %}
{% block content %}
<body style="background-color: #666666;">

    <div class="limiter">
        <div class="container-login100">
            <div class="wrap-login100">
                <form method="post" class="login100-form validate-form">
                    {% csrf_token %}
                    <span class="login100-form-title p-b-43">
                        회원가입
                    </span>
                    
                    <div class="wrap-input100 validate-input" data-validate="Username is required">
                        <input class="input100" type="text" name="username" required>
                        <span class="focus-input100"></span>
                        <span class="label-input100">아이디</span>
                    </div>
                    
                    <div class="wrap-input100 validate-input" data-validate="Password is required">
                        <input class="input100" type="password" name="password1" required>
                        <span class="focus-input100"></span>
                        <span class="label-input100">비밀번호</span>
                    </div>
                    <div class="wrap-input100 validate-input" data-validate="Confirm Password is required">
                        <input class="input100" type="password" name="password2" required>
                        <span class="focus-input100"></span>
                        <span class="label-input100">비밀번호 확인</span>
                    </div>
                    <div class="wrap-input100 validate-input" data-validate="Valid email is required: ex@abc.xyz">
                        <input class="input100" type="email" name="email" required>
                        <span class="focus-input100"></span>
                        <span class="label-input100">이메일</span>
                    </div>

                    <!-- 개인정보 동의 섹션 -->
                    <div class="privacy-section">
                        <div class="privacy-title">
                            <input type="checkbox" id="agree_all" name="agree_all">
                            <label for="agree_all"><strong>전체 동의하기</strong></label>
                            <p>실명 인증된 아이디로 가입, 위치기반서비스 이용약관(선택), 이벤트 · 혜택 정보 수신(선택) 동의를 포함합니다.</p>
                        </div>
                        <hr>
                        <div class="privacy-item">
                            <input type="checkbox" id="agree_terms" name="agree_terms" required>
                            <label for="agree_terms"><strong>MealKid 이용약관</strong> (필수)</label>
                            <div class="privacy-content scrollable-p">
                                <p>MealKid 서비스 및 제품(이하 '서비스')을 이용해 주셔서 감사합니다. 본 약관은 다양한 MealKid 서비스의 이용과 관련하여 MealKid 서비스를 제공하는 MealKid 주식회사(이하 'MealKid')와 이를 이용하는 MealKid 서비스 회원(이하 '회원') 또는 비회원과의 관계를 설명하며, 아울러 여러분의 MealKid 서비스 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.</p>
                            </div>
                        </div>
                        <div class="privacy-item">
                            <input type="checkbox" id="agree_privacy" name="agree_privacy" required>
                            <label for="agree_privacy"><strong>개인정보 수집 및 이용</strong> (필수)</label>
                            <div class="privacy-content scrollable-p">
                                <p>개인정보보호법에 따라 MealKid에 회원가입 신청하시는 분께 수집하는 개인정보의 항목, 개인정보의 수집 및 이용목적, 개인정보의 보유 및 이용기간, 동의 거부권 및 동의 거부 시 불이익에 관한 사항을 안내 드리오니 자세히 읽은 후 동의하여 주시기 바랍니다.</p>
                            </div>
                        </div>
                        <div class="privacy-item">
                            <input type="checkbox" id="agree_real_id" name="agree_real_id" required>
                            <label for="agree_real_id"><strong>실명 인증된 아이디로 가입</strong> (선택)</label>
                            <div class="privacy-content scrollable-p">
                                <p>실명 인증된 아이디로 가입하시면 본인인증이 필요한 서비스를 가입 후 바로 이용하실 수 있어요.</p>
                            </div>
                        </div>
                        <div class="privacy-item">
                            <input type="checkbox" id="agree_location" name="agree_location">
                            <label for="agree_location"><strong>위치기반서비스 이용약관</strong> (선택)</label>
                            <div class="privacy-content scrollable-p">
                                <p>위치기반서비스 이용약관에 동의하시면, 위치를 활용한 광고 정보 수신 등을 포함하는 MealKid 위치기반 서비스를 이용할 수 있습니다.</p>
                            </div>
                        </div>
                    </div>
                    
                    {% include 'registration/form_errors.html' %}

                    <div class="container-login100-form-btn">
                        <button type="submit" class="login100-form-btn">
                            가입!
                        </button>
                    </div>
                    
                    <div class="text-center p-t-46 p-b-20">
                        <span class="txt2">
                            SNS 계정으로 로그인
                        </span>
                    </div>

                    <div class="login100-form-social flex-c-m">
                        <a href="{% provider_login_url 'google' %}" class="login100-form-social-item flex-c-m bg1 m-r-5">
                            <img src="{% static 'images/icons/google_icon.png' %}" alt="Google Image" style="width: 20px; height: 20px;">
                        </a>

                        <a href="{% provider_login_url 'naver' %}" class="login100-form-social-item flex-c-m bg2 m-r-5">
                            <img src="{% static 'images/icons/naver_icon.png' %}" alt="Naver Image" style="width: 20px; height: 20px;">
                        </a>

                        <a href="{% provider_login_url 'kakao' %}" class="login100-form-social-item flex-c-m bg3 m-r-5">
                            <img src="{% static 'images/icons/kakaotalk_icon.png' %}" alt="Kakaotalk Image" style="width: 18px; height: 18px;">
                        </a>
                    </div>
                </form>

                <div class="login100-more" style="background-image: url('{% static 'images/bg-01.jpg' %}');">
                </div>
            </div>
        </div>
    </div>

    <script src="{% static 'vendor/jquery/jquery-3.2.1.min.js' %}"></script>
    <script src="{% static 'vendor/animsition/js/animsition.min.js' %}"></script>
    <script src="{% static 'vendor/bootstrap/js/popper.js' %}"></script>
    <script src="{% static 'vendor/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'vendor/select2/select2.min.js' %}"></script>
    <script src="{% static 'vendor/daterangepicker/moment.min.js' %}"></script>
    <script src="{% static 'vendor/daterangepicker/daterangepicker.js' %}"></script>
    <script src="{% static 'vendor/countdowntime/countdowntime.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>

    <script>
        // 모든 체크박스 선택/해제
        $('#agree_all').click(function() {
            $('input[type="checkbox"]').prop('checked', this.checked);
        });

        // 필수 항목이 체크되지 않은 경우 경고
        $('form').submit(function(event) {
            if (!$('#agree_terms').prop('checked') || !$('#agree_privacy').prop('checked') || !$('#agree_real_id').prop('checked')) {
                alert('필수 항목에 동의해 주세요.');
                event.preventDefault();
            }
        });
    </script>

</body>
{% endblock %}
</html>
