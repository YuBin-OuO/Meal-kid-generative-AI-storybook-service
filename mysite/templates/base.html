<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="https://gmpg.org/xfn/11">
<link rel="pingback" href="https://colorlibhub.com/shapely/xmlrpc.php">
{% load static %}
<meta name="robots" content="noindex,nofollow" />

<title>{% block title %}꿈을 꾸는 아이들 Mealkid{% endblock %}</title>

<!-- Stylesheets -->
<link rel="icon" type="image/png" href="{% static 'images/icons/favicon.ico' %}"/>
<link rel="stylesheet" id="wp-block-library-css" href="https://149842022.v2.pressablecdn.com/shapely/wp-includes/css/dist/block-library/style.min.css?ver=6.5.4" type="text/css" media="all" />
<link rel="stylesheet" id="mediaelement-css" href="https://149842022.v2.pressablecdn.com/shapely/wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css?ver=4.2.17" type="text/css" media="all" />
<link rel="stylesheet" id="wp-mediaelement-css" href="https://149842022.v2.pressablecdn.com/shapely/wp-includes/js/mediaelement/wp-mediaelement.min.css?ver=6.5.4" type="text/css" media="all" />
<link rel="stylesheet" id="bootstrap-css" href="https://149842022.v2.pressablecdn.com/shapely/wp-content/themes/shapely/assets/css/bootstrap.min.css?ver=6.5.4" type="text/css" media="all" />
<link rel="stylesheet" id="font-awesome-css" href="https://149842022.v2.pressablecdn.com/shapely/wp-content/plugins/elementor/assets/lib/font-awesome/css/font-awesome.min.css?ver=4.7.0" type="text/css" media="all" />
<link rel="stylesheet" id="shapely-fonts-css" href="//fonts.googleapis.com/css?family=Raleway%3A100%2C300%2C400%2C500%2C600%2C700&amp;display=swap&amp;ver=6.5.4" type="text/css" media="all" />
<link rel="stylesheet" id="flexslider-css" href="https://149842022.v2.pressablecdn.com/shapely/wp-content/themes/shapely/assets/css/flexslider.css?ver=6.5.4" type="text/css" media="all" />
<link rel="stylesheet" id="shapely-style-css" href="https://149842022.v2.pressablecdn.com/shapely/wp-content/themes/shapely/style.css?ver=6.5.4" type="text/css" media="all" />
<link rel="stylesheet" id="owl.carousel-css" href="https://149842022.v2.pressablecdn.com/shapely/wp-content/themes/shapely/assets/js/owl-carousel/owl.carousel.min.css?ver=6.5.4" type="text/css" media="all" />
<link rel="stylesheet" id="owl.carousel.theme-css" href="https://149842022.v2.pressablecdn.com/shapely/wp-content/themes/shapely/assets/js/owl-carousel/owl.theme.default.css?ver=6.5.4" type="text/css" media="all" />
<link rel="stylesheet" id="jetpack_css-css" href="https://149842022.v2.pressablecdn.com/shapely/wp-content/plugins/jetpack/css/jetpack.css?ver=13.6-a.5" type="text/css" media="all" />

<script type="text/javascript" src="https://149842022.v2.pressablecdn.com/shapely/wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<link rel="https://api.w.org/" href="https://colorlibhub.com/shapely/wp-json/" />
<link rel="alternate" type="application/json" href="https://colorlibhub.com/shapely/wp-json/wp/v2/pages/1863" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://colorlibhub.com/shapely/xmlrpc.php?rsd" />
<link rel="shortlink" href="https://wp.me/PcYi56-u3" />
<link rel="alternate" type="application/json+oembed" href="https://colorlibhub.com/shapely/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcolorlibhub.com%2Fshapely%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://colorlibhub.com/shapely/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcolorlibhub.com%2Fshapely%2F&amp;format=xml" />

<!-- Custom CSS -->
<link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
<style type="text/css" id="wp-custom-css">
    
</style>
<style>
    .footer {
        background-color: #000; 
        padding: 20px 0;
    }
    .footer .site-info, .footer .footer-credit {
        color: #fff; 
    }
    .footer .footer-credit {
        text-decoration: none; /* 밑줄 제거 */
        color: #fff; /* 흰색 링크 */
    }
    .footer .footer-credit:hover {
        color: #ddd; /* 링크에 마우스를 올렸을 때 밝은 회색 */
    }
</style>
</head>
<body class="home page-template page-template-page-templates page-template-template-home page-template-page-templatestemplate-home-php page page-id-1863 has-sidebar-right elementor-default elementor-kit-2257">
<div id="page" class="site">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

<header id="masthead" class="site-header" role="banner">
    
    <div class="nav-container">
        
        <nav id="site-navigation" class="main-navigation" role="navigation">
            <div class="container nav-bar">
                <div class="flex-row">
                    <div class="module left site-title-container">
                        <a href="/" class="main-link"><span class="site-title">Meal kid</span></a>
                    </div>
                    <button class="module widget-handle mobile-toggle right visible-sm visible-xs">
                        <i class="fa fa-bars"></i>
                    </button>
                    <div class="module-group right">
                        <div class="module left">
                            <div class="collapse navbar-collapse navbar-ex1-collapse">
                                <ul id="menu" class="menu">
                                    {% if user.is_authenticated %}
                                        {% if request.path != '/myaccount/select_account/'%}
                                            {% if request.session.selected_profile_name %}
                                            <li>
                                                <a href="{% url 'select_account' %}">
                                                    <img src="{{ request.session.selected_profile_avatar }}" alt="Profile Image" style="width: 30px; height: 30px; border-radius: 50%; margin-right: 10px;">
                                                    어서오세요, {{ request.session.selected_profile_name }}님!
                                                </a>
                                            </li>
                                            {% endif %}
                                            <li id='readerbutton'><a href="{% url 'reader:list' %}" >읽기</a></li>
                                            <li id='genbutton'><a href="{% url 'generator:index' %}">만들기</a></li>
                                            <li id='creatbutton'><a href="{% url 'reader:search' %}?keyword=Generative">생성 동화</a></li>
                                        {% endif %}
                                        <li id='servicebutton'><a href="{% url 'mine:index' %}">서비스 소개</a></li> 
                                        <li>
                                            <a href="/" id="logout-link">로그아웃</a>
                                            <form id="logout-form" action="{% url 'logout' %}" method="post" style="display: none;">
                                                {% csrf_token %}
                                            </form>
                                        </li>
                                        {% if request.session.selected_profile_id %}
                                        <li id='userbutton'><a href="{% url 'profile_detail' request.session.selected_profile_id %}">내 정보</a></li>
                                        {% else %}
                                            <li id='userbutton'><a href="{% url 'profile' %}">내 정보</a></li>
                                        {% endif %}

                                    {% else %}
                                        <li id='servicebutton'><a href="{% url 'mine:index' %}">서비스 소개</a></li> 

                                        {% if request.path != '/myaccount/login/'%}
                                            <li id='readerbutton'><a href="{% url 'reader:list' %}">읽기</a></li>
                                            <li id='genbutton'><a href="{% url 'generator:index' %}">만들기</a></li>
                                            <li id='creatbutton'><a href="{% url 'reader:search' %}?keyword=Generative">생성 동화</a></li>
                                            <li><a href="{% url 'login' %}">로그인</a></li>
                                        {% endif %}
                                        <li><a href="{% url 'signup' %}">회원가입</a></li>
                                    {% endif %}
                                    {% if user.is_staff %}
                                        <li><a href="/admin/">관리자 페이지</a></li>
                                    {% endif %}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </div>
</header>

<div id="content" class="main-container">
    {% block content %}{% endblock %}
</div>

<footer id="colophon" class="site-footer footer bg-dark" role="contentinfo">
    <div class="row">
    </div>
    <div class="row">
        <div class="site-info col-sm-6">
            <div class="copyright-text">
                © 2024 MealKid. All rights reserved.
            </div>
            <div class="footer-credits">
                <li><a class="footer-credit" href="{% url 'privacy_policy' %}">개인정보처리방침</a></li>
                <li><a class="footer-credit" href="{% url 'terms' %}">이용약관</a></li>
            </div>
        </div>
    </div>
</footer>


<script type="text/javascript">
    
    jQuery(document).ready(function($) {
        if ($(window).width() >= 767) {
            $('.navbar-nav > li.menu-item > a').click(function() {
                window.location = $(this).attr('href');
            });
        }
    });
</script>

<script type="text/javascript" src="https://149842022.v2.pressablecdn.com/shapely/wp-content/plugins/contact-form-7/includes/swv/js/index.js?ver=5.8" id="swv-js"></script>
<script type="text/javascript" id="contact-form-7-js-extra">
    var wpcf7 = {"api":{"root":"https:\/\/colorlibhub.com\/shapely\/wp-json\/","namespace":"contact-form-7\/v1"},"cached":"1"};
</script>
<script type="text/javascript" src="https://149842022.v2.pressablecdn.com/shapely/wp-content/plugins/contact-form-7/includes/js/index.js?ver=5.8" id="contact-form-7-js"></script>
<script type="text/javascript" src="https://149842022.v2.pressablecdn.com/shapely/wp-content/themes/shapely/assets/js/skip-link-focus-fix.js?ver=20160115" id="shapely-skip-link-focus-fix-js"></script>
<script type="text/javascript" src="https://149842022.v2.pressablecdn.com/shapely/wp-includes/js/imagesloaded.min.js?ver=5.0.0" id="imagesloaded-js"></script>
<script type="text/javascript" src="https://149842022.v2.pressablecdn.com/shapely/wp-includes/js/masonry.min.js?ver=4.2.2" id="masonry-js"></script>
<script type="text/javascript" src="https://149842022.v2.pressablecdn.com/shapely/wp-includes/js/jquery/jquery.masonry.min.js?ver=3.1.2b" id="jquery-masonry-js"></script>
<script type="text/javascript" src="https://149842022.v2.pressablecdn.com/shapely/wp-content/themes/shapely/assets/js/flexslider.min.js?ver=20160222" id="flexslider-js"></script>
<script type="text/javascript" src="https://149842022.v2.pressablecdn.com/shapely/wp-content/themes/shapely/assets/js/parallax.min.js?ver=20160115" id="shapely-parallax-js"></script>
<script type="text/javascript" src="https://149842022.v2.pressablecdn.com/shapely/wp-content/themes/shapely/assets/js/owl-carousel/owl.carousel.min.js?ver=20160115" id="owl.carousel-js"></script>
<script type="text/javascript" id="shapely-scripts-js-extra">
    var ShapelyAdminObject = {"sticky_header":"1"};
</script>
<script type="text/javascript" src="https://149842022.v2.pressablecdn.com/shapely/wp-content/themes/shapely/assets/js/shapely-scripts.js?ver=20180423" id="shapely-scripts-js"></script>
<script type="text/javascript" id="jetpack-stats-js-after">
    _stq = window._stq || [];
    _stq.push(["view", JSON.parse("{\"v\":\"ext\",\"blog\":\"191685220\",\"post\":\"1863\",\"tz\":\"0\",\"srv\":\"colorlibhub.com\",\"hp\":\"atomic\",\"ac\":\"3\",\"amp\":\"0\",\"j\":\"1:13.6-a.5\"}")]);
    _stq.push(["clickTrackerInit", "191685220", "1863"]);
</script>

<script>


// 현재 페이지의 URL에서 경로를 추출하는 함수
function getPathPrefix(url) {
    // URL 객체를 생성하여 pathname을 얻습니다.
    const parser = new URL(url);
    return parser.pathname.split('/')[1]; // URL 경로의 첫 번째 부분을 반환합니다.
}

// 현재 페이지의 경로의 첫 번째 부분을 얻습니다.
var pathPrefix = getPathPrefix(window.location.href);
console.log("현재 경로의 첫 부분:", pathPrefix);
const readerIcon = document.getElementById("readerbutton");
            const genIcon = document.getElementById("genbutton");
            const creatIcon = document.getElementById("creatbutton");
            const serviceIcon = document.getElementById("servicebutton");
            const userIcon = document.getElementById("userbutton");
// 경로의 첫 번째 부분이 목표와 일치하는지 확인
if (pathPrefix === "reader") {
    {% if keyword == 'Generative' %}
        creatIcon.classList.add("label-background"); // 생성 동화
    {% else %}
        readerIcon.classList.add("label-background"); // 읽기
    {% endif %}
} else if (pathPrefix === "review") {
    readerIcon.classList.add("label-background");
} else if (pathPrefix === "quiz") {
    readerIcon.classList.add("label-background");
} else if (pathPrefix === "generator") {
    genIcon.classList.add("label-background"); // 만들기
} else if (pathPrefix === "mine") {
    serviceIcon.classList.add("service-background"); // 서비스 소개
} else if (pathPrefix === "myaccount") {
    userIcon.classList.add("label-background"); // 내 정보
}
            function showLoading() {
                document.getElementById('loading').style.display = 'block';
            }
    document.getElementById('logout-link').addEventListener('click', function(event) {
        event.preventDefault();
        document.getElementById('logout-form').submit();
    });
    
    document.addEventListener('DOMContentLoaded', (event) => {
        const modal = document.getElementById("chatModal");
        const openModalBtn = document.getElementById("openModalBtn");
        const closeModalSpan = document.getElementsByClassName("close")[0];
        const sendBtn = document.getElementById("sendBtn");
        const chatInput = document.getElementById("chatInput");
        const chatBody = document.getElementById("chatBody");
    
        openModalBtn.onclick = function() {
            modal.style.display = "block";
        }
    
        closeModalSpan.onclick = function() {
            modal.style.display = "none";
        }
    
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    
        sendBtn.onclick = function() {
            const message = chatInput.value.trim();
            if (message !== "") {
                // 사용자 메시지를 추가
                const userMessageElement = document.createElement("div");
                userMessageElement.textContent = "User: " + message;
                chatBody.appendChild(userMessageElement);

                // 챗봇 서버에 메시지를 전송하고 응답을 받음
                fetch('/chatbot/api/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}'
                    },
                    body: JSON.stringify({ question: message })
                })
                .then(response => response.json())
                .then(data => {
                    const botMessageElement = document.createElement("div");
                    botMessageElement.textContent = "Bot: " + data.response;
                    chatBody.appendChild(botMessageElement);
                    chatBody.scrollTop = chatBody.scrollHeight;
                });

                chatInput.value = "";
                chatBody.scrollTop = chatBody.scrollHeight;
            }
        }
    
        chatInput.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                sendBtn.click();
            }
        });
    });
</script>
</body>
</html>
